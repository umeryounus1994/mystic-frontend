<div class="row min-vh-100">
    <ngx-spinner
        bdColor="rgba(51,51,51,0.8)"
        size="medium"
        color="#fff"
        type="ball-scale-multiple"
        [fullScreen]="true">
        <p style="font-size: 20px; color: white">{{ text | translate }}</p>
    </ngx-spinner>
    
    <!-- Left Side -->
    <div class="col-12 col-lg-4 d-flex align-items-center justify-content-center bg-primary bg-opacity-10 min-vh-100 left-side">
        <!-- Floating Elements -->
        <div class="position-absolute floating-element" style="top: 10%; left: 10%; width: 60px; height: 60px; background: rgba(13, 110, 253, 0.1); border-radius: 50%;"></div>
        <div class="position-absolute floating-element reverse" style="top: 70%; right: 15%; width: 40px; height: 40px; background: rgba(13, 110, 253, 0.15); border-radius: 50%;"></div>
        <div class="position-absolute floating-element delay" style="top: 30%; right: 20%; width: 20px; height: 20px; background: rgba(13, 110, 253, 0.2); border-radius: 50%;"></div>
        
        <div class="p-4 p-lg-5 text-center welcome-content">
            <!-- Welcome Content -->
            <div class="mb-4">
                <div class="mb-4">
                    <div class="main-icon">
                        <i class="bi bi-shield-check text-primary" style="font-size: 2.5rem;"></i>
                    </div>
                </div>
                <h2 class="fw-bold text-dark mb-3">{{ 'AUTH.WELCOME_BACK' | translate }}</h2>
                <p class="text-dark fs-5 mb-4">{{ 'AUTH.ACCESS_DASHBOARD' | translate }}</p>
                <div class="d-flex justify-content-center gap-3 mb-4">
                    <div class="text-center">
                        <div class="feature-icon bg-success bg-opacity-10">
                            <i class="bi bi-lightning-charge text-success"></i>
                        </div>
                        <small class="d-block text-dark">{{ 'AUTH.FAST_SECURE' | translate }}</small>
                    </div>
                    <div class="text-center">
                        <div class="feature-icon bg-info bg-opacity-10">
                            <i class="bi bi-people text-primary"></i>
                        </div>
                        <small class="d-block text-dark">{{ 'AUTH.COMMUNITY' | translate }}</small>
                    </div>
                    <div class="text-center">
                        <div class="feature-icon bg-warning bg-opacity-10">
                            <i class="bi bi-star text-warning"></i>
                        </div>
                        <small class="d-block text-dark">{{ 'AUTH.PREMIUM' | translate }}</small>
                    </div>
                </div>
            </div>
            
            <!-- Illustration -->
            <div class="position-relative">
                <img src="assets/images/element/02.svg" class="img-fluid illustration" alt="Login Illustration">
            </div>
        </div>
    </div>
  
    <!-- Right Side -->
    <div class="col-12 col-lg-8 d-flex align-items-center justify-content-center min-vh-100 bg-light">
        <div class="w-100" style="max-width: 580px;">
            <div class="login-card p-4 p-lg-5 mx-3 mx-lg-4">
                <!-- Header -->
                <div class="text-center mb-4">
                    <div class="mb-3">
                        <span class="fs-1">üîê</span>
                    </div>
                    <h1 class="h3 fw-bold text-dark mb-2">{{ 'AUTH.SIGN_IN' | translate }}</h1>
                    <p class="text-dark mb-0">{{ 'AUTH.ENTER_CREDENTIALS' | translate }}</p>
                </div>

                <!-- Form START -->
                <form [formGroup]="submissionForm" (ngSubmit)="onSubmit()">
                    <!-- Email -->
                    <div class="mb-4">
                        <label for="email" class="form-label fw-semibold text-dark">{{ 'AUTH.EMAIL_ADDRESS' | translate }}</label>
                        <div class="input-group input-group-lg"
                            [ngClass]="{ 'is-invalid': isSubmitted && submissionForm.get('email').errors }">
                            <span class="input-group-text bg-light border-end-0 text-muted">
                                <i class="bi bi-envelope-fill"></i>
                            </span>
                            <input type="email" formControlName="email"
                                class="form-control border-start-0 bg-light ps-0" 
                                [placeholder]="'AUTH.ENTER_EMAIL' | translate"
                                id="email">
                        </div>
                        <div class="invalid-feedback" *ngIf="isSubmitted && submissionForm.get('email').errors">
                            {{ 'VALIDATION.EMAIL_INVALID' | translate }}
                        </div>
                    </div>

                    <!-- Password -->
                    <div class="mb-4">
                        <label for="password" class="form-label fw-semibold text-dark">{{ 'COMMON.PASSWORD' | translate }}</label>
                        <div class="input-group input-group-lg"
                            [ngClass]="{ 'is-invalid': isSubmitted && submissionForm.get('password').errors }">
                            <span class="input-group-text bg-light border-end-0 text-muted">
                                <i class="fas fa-lock"></i>
                            </span>
                            <input [type]="fieldTextType ? 'text' : 'password'" formControlName="password"
                                class="form-control border-start-0 border-end-0 bg-light ps-0" 
                                [placeholder]="'AUTH.ENTER_PASSWORD' | translate"
                                id="password">
                            <button class="btn bg-light border-start-0 text-muted" type="button" (click)="showPassword()">
                                <i *ngIf="fieldTextType" class="fas fa-eye-slash"></i>
                                <i *ngIf="!fieldTextType" class="fas fa-eye"></i>
                            </button>
                        </div>
                        <div class="invalid-feedback" *ngIf="isSubmitted && submissionForm.get('password').errors">
                            {{ 'AUTH.PASSWORD_REQUIRED' | translate }}
                        </div>
                    </div>

                    <!-- Remember & Forgot -->
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="rememberMe" formControlName="rememberMe">
                            <label class="form-check-label text-muted" for="rememberMe">
                                {{ 'AUTH.REMEMBER_ME' | translate }}
                            </label>
                        </div>
                        <a href="javascript:;" (click)="showResetPasswordModal()" 
                           class="text-primary text-decoration-none fw-semibold">
                            {{ 'AUTH.FORGOT_PASSWORD' | translate }}
                        </a>
                    </div>

                    <!-- Login Button -->
                    <div class="d-grid mb-4">
                        <button class="btn btn-primary btn-lg py-3 fw-semibold" type="submit"
                                [disabled]="isSubmitted">
                            <span *ngIf="isSubmitted" class="spinner-border spinner-border-sm me-2"></span>
                            {{ isSubmitted ? ('AUTH.SIGNING_IN' | translate) : ('AUTH.SIGN_IN' | translate) }}
                        </button>
                    </div>

                    <!-- Divider -->
                    <div class="position-relative text-center mb-4">
                        <hr class="text-dark">
                        <span class="position-absolute top-50 start-50 translate-middle bg-white px-3 text-dark small">
                            {{ 'AUTH.NEW_TO_PLATFORM' | translate }}
                        </span>
                    </div>

                    <!-- Registration Links -->
                    <div class="text-center">
                        <p class="text-dark mb-3">{{ 'AUTH.JOIN_COMMUNITY' | translate }}</p>
                        <div class="row g-2">
                            <div class="col-12 col-sm-6">
                                <a routerLink="/auth/partner-registration" 
                                   class="btn btn-outline-primary btn-lg w-100 fw-semibold">
                                    <i class="bi bi-house-heart me-2"></i>
                                    {{ 'AUTH.REGISTER_AS_PARTNER' | translate }}
                                </a>
                            </div>
                            <div class="col-12 col-sm-6">
                                <a routerLink="/auth/family-registration" 
                                   class="btn btn-outline-success btn-lg w-100 fw-semibold">
                                    <i class="bi bi-house-heart me-2"></i>
                                    {{ 'AUTH.REGISTER_AS_FAMILY' | translate }}
                                </a>
                            </div>
                        </div>
                    </div>
                </form>

                <!-- Reset Password Modal -->
                <div class="modal fade" id="forgetPassword" tabindex="-1" aria-labelledby="forgetPasswordLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                            <div class="modal-header bg-primary text-white border-0">
                                <h5 class="modal-title" id="forgetPasswordLabel">
                                    <i class="bi bi-key-fill me-2"></i>{{ 'AUTH.RESET_PASSWORD' | translate }}
                                </h5>
                                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                            </div>
                            <div class="modal-body p-4">
                                <p class="text-muted mb-3">{{ 'AUTH.RESET_PASSWORD_DESCRIPTION' | translate }}</p>
                                <div class="mb-3">
                                    <label for="forgotEmail" class="form-label fw-semibold">{{ 'AUTH.EMAIL_ADDRESS' | translate }}</label>
                                    <div class="input-group">
                                        <span class="input-group-text bg-light">
                                            <i class="bi bi-envelope"></i>
                                        </span>
                                        <input type="email" class="form-control" id="forgotemail" 
                                               [placeholder]="'AUTH.ENTER_EMAIL' | translate" required>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer border-0 pt-0">
                                <button type="button" class="btn btn-light" data-bs-dismiss="modal">{{ 'COMMON.CANCEL' | translate }}</button>
                                <button type="button" class="btn btn-primary" (click)="resetPassword()">
                                    {{ 'AUTH.SEND_RESET_LINK' | translate }}
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div> <!-- Row END -->

